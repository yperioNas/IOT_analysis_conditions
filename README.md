# IOT_analysis_conditions
IOT - Analysis of urban environmental conditions

«Προγραμματισμός και σχεδιασμός πλατφόρμας ΙοΤ για ανάλυση συνθηκών του περιβάλλοντος πόλης»

Πρόκειται για μια εφαρμογή ΙοΤ όπου έχει υλοποιηθεί μέσω της πλατφόρμας node-red, τα δεδομένα  λαμβάνονται από τους αισθητήρες μέσω της πλατφόρμας https://maps.sensor.community/#7/39.358/23.695 και η αποθήκευση τους πραγματοποιείται μέσω της SQLite.

Δημιουργώ δυο GET συναρτήσεις ώστε να πέρνω δεδομένα από τους αισθητήρες. Επιλέγουμε να βλέπουμε για τους PM10 και PM2.5 από τον Larissa_P και θερμοκρασία, υγρασία και πίεση από τον αισθητήρα Larissa_Τ_Η_P. Στις functions από όπου θα παίρνουμε τα δεδομένα μας τις ορίζουμε ως αριθμιτικές και δίνουμε τον αισθητήρα από όπου θα τραβάει τα δεδομένα. Επίσης έχουμε προσθέσει και ένα timestamp όπου ζητάμε η μέτρηση των δεδομένων από τους αισθητήρες να γίνεται ανά 6 λεπτά. 
     ![image](https://user-images.githubusercontent.com/24375649/157727951-e6400d6e-b8c5-49ee-8c01-04b3269bb8af.png)
     ![image](https://user-images.githubusercontent.com/24375649/157727973-b07a8942-3a17-4fd5-90bf-feba95e68615.png)
![image](https://user-images.githubusercontent.com/24375649/157727997-69f6fbf2-6904-4578-86c8-3ff8c9147d4c.png)
![image](https://user-images.githubusercontent.com/24375649/157728011-83f90ea3-a346-47bf-ad15-6da8776abe54.png)
![image](https://user-images.githubusercontent.com/24375649/157728040-6b2c3289-fdc7-422a-b395-b84dd5a339d6.png)


Στη συνέχεια συνδέουμε τις functions με τους αισθητήρες ώστε να καταγράφονται σε πραγματικό χρόνο τα δεδομένα που παίρνουμε ανά 6 λεπτά, και να εμφανίζονται τα δεδομένα ανά χρόνο στο dashboard σε γραφικές παραστάσεις .
![image](https://user-images.githubusercontent.com/24375649/157728062-fde7169c-1c72-49f4-bad5-73e13749f98a.png)

 
Έπειτα, δημιουργούμε μια JOIN την οποία την συνδέουμε με όλες τις function που φτιάξαμε για να παίρνουμε τα δεδομένα από τους αισθητήρες και με το timestamp ώστε να συνεχίζουν τα δεδομένα να καταγράφονται ανά 6 λεπτά. Την συνδέουμε με μια νέα function όπου σκοπός της είναι να ορίσουμε τα δεδομένα σε μεταβλητές και να φτιάξουμε έναν πίνακα βάσης δεδομένων (SQLite) με το CREATE όπου θα καταχωρούνται εκεί τα δεδομένα και θα αποθηκέυονται.
 

![image](https://user-images.githubusercontent.com/24375649/157728089-f875aad5-cb1e-4e25-9175-83f715a876a4.png)


Στη συνέχεια, δημιουργούμε ένα νέο πίνακα (Create Table) όπου θα αποθηκεύονται τα δεδομένα στην βάση δεδομένων. Επιλέγουμε με το (SELECT) των μέσο όρο των δεδομένων των δυο τελευταίων ωρών μέσω της function.
 
![image](https://user-images.githubusercontent.com/24375649/157728105-4de8e020-47aa-4728-80b8-1118d378d798.png)







Και με το (Show Data Average) επιλέγω τα δεδομένα που παραπάνω δημιούργησα και τα εμφανίζω στο dashboard μέσω της εντολής (Show my data average) γράφωντας τον παρακάτω κώδικα. 
 
![image](https://user-images.githubusercontent.com/24375649/157728151-8d84c644-7e3d-4c05-a1ef-9d1cae8d508c.png)

Και εδώ είναι τα αποτελέσματα που φαίνονται σε πραγματικό χρόνο ανά τύπο δεδομένων ανά δυο ώρες ο μέσος όρος τους.
![image](https://user-images.githubusercontent.com/24375649/157728173-ea7b76c2-05b9-45e1-8406-5b48eea2b814.png)

 
